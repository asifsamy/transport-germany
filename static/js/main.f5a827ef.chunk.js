(this.webpackJsonptransport_berlin=this.webpackJsonptransport_berlin||[]).push([[0],{43:function(e,t,n){},44:function(e,t,n){},70:function(e,t,n){"use strict";n.r(t);var a=n(1),r=n.n(a),c=n(34),s=n.n(c),i=(n(43),n(44),n(23)),o=n(13),l=n.n(o),j=n(17),d=n(10),b=n(18),p=n.n(b),u=n(9),m=n(22),h=n(12),O=n(0),x=function(){var e=Object(a.useState)([]),t=Object(d.a)(e,2),n=t[0],r=t[1],c=Object(a.useState)(""),s=Object(d.a)(c,2),o=s[0],b=s[1],x=Object(a.useState)([]),v=Object(d.a)(x,2),f=v[0],g=v[1],y=JSON.parse(localStorage.getItem("favorites")||"0");Object(a.useEffect)((function(){""!==o&&function(){var e=Object(j.a)(l.a.mark((function e(){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,p.a.get("https://v5.db.transport.rest/locations?query=".concat(o,"&results=10"));case 3:t=e.sent,r(t.data),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log("Something wrong!");case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}()()}),[o]),Object(a.useEffect)((function(){0!==y&&g(Object(i.a)(y))}),[]);var N=function(e,t){var n=f,a=!0;n.map((function(e,r){e===t&&(n.splice(r,1),a=!1)})),a&&n.push(t),g(Object(i.a)(n)),localStorage.setItem("favorites",JSON.stringify(f)),null==localStorage.getItem(t||"0")?localStorage.setItem(t,JSON.stringify(e)):localStorage.removeItem(t)},S=function(e){var t=[];return Object.entries(e).map((function(e,n){return!0===e[1]?t.push(Object(O.jsxs)("small",{children:[" ",e[0]," / "]},n)):t.push(Object(O.jsx)("small",{},n))})),t};return Object(O.jsxs)("div",{className:"container mt-5",children:[Object(O.jsxs)(h.a,{children:[Object(O.jsx)("title",{children:"Transport App - Home"}),Object(O.jsx)("meta",{name:"description",content:"home page"})]}),Object(O.jsxs)("div",{className:"container",children:[Object(O.jsxs)("div",{class:"jumbotron",children:[Object(O.jsx)("h1",{children:"Transportation Germany"}),Object(O.jsx)("p",{children:"By Searching any Stop in Germany, Find Your Depatures with the Informations of Arrivals, Available Transports, etc. Mark/Unmark you Favorite Stops and Later You Can Find the Informations by Going to the My Favorinte Page."})]}),Object(O.jsxs)("div",{className:"form-outline",children:[Object(O.jsx)("input",{type:"text",className:"form-control col-md-5",value:o,onChange:function(e){b(e.target.value)},placeholder:"Enter your Stoppage"}),function(){var e=[];return n.map((function(t){return e.push(Object(O.jsx)("div",{children:t.id?Object(O.jsxs)("p",{children:[Object(O.jsx)(u.b,{to:"/stop/".concat(t.id),children:t.name}),"(",t.products?S(t.products):"",")",Object(O.jsx)("span",{children:"\xa0\xa0"}),f.includes(t.id)?Object(O.jsxs)("span",{children:["Unmark Favorite: ",Object(O.jsx)(m.a,{onClick:function(){return N(t.name,t.id)},style:{color:"red"}})]}):Object(O.jsxs)("span",{children:["Mark Favorite: ",Object(O.jsx)(m.b,{onClick:function(){return N(t.name,t.id)},style:{color:"red"}})]})]},t.id):""}))})),e}()]})]})]})},v=n(38),f=n.n(v),g=function(e){return Object(O.jsxs)("div",{children:[Object(O.jsx)("div",{className:"list-group",children:Object(O.jsxs)("div",{className:"list-group-item list-group-item-action flex-column align-items-start",children:[Object(O.jsxs)("div",{className:"d-flex w-100 justify-content-between",children:[Object(O.jsxs)("h5",{className:"mb-1",children:["Departure: ",e.departure_name,Object(O.jsx)("br",{})]}),Object(O.jsx)("small",{children:Object(O.jsxs)("strong",{children:[" ",f()(e.departure_time).calendar()]})})]}),Object(O.jsxs)("p",{className:"mb-1",children:[e.transport_type," : ",e.transport_name," (Transport Mode: ",e.transport_mode,")"]}),Object(O.jsxs)("p",{className:"mb-1",children:["Platform: ",e.platform?+e.platform:"N/A"]}),Object(O.jsxs)("h5",{class:"mb-1",children:["Arrival: ",e.destination]}),null!==e.delay&&0!==e.delay&&e.delay>0?Object(O.jsx)("div",{children:Object(O.jsxs)("span",{className:"badge",children:["Delay: ",Object(O.jsxs)("span",{className:"badge text-light bg-danger",children:[e.delay/60," min"]})]})}):e.delay<0?Object(O.jsxs)("div",{className:"d-flex w-100 justify-content-between",children:[Object(O.jsxs)("span",{className:"badge",children:["Delay: ",Object(O.jsxs)("span",{className:"badge text-light bg-danger",children:[e.delay/60," min"]})]}),Object(O.jsx)("small",{className:"text-warning",children:"Warning! Transport comes earlier."})]}):null]})}),Object(O.jsx)("br",{})]})},y=function(e){for(var t=e.dataPerPage,n=e.totalData,a=e.paginate,r=[],c=1;c<=Math.ceil(n/t);c++)r.push(c);return Object(O.jsx)("nav",{children:Object(O.jsx)("ul",{className:"pagination",children:r.map((function(e){return Object(O.jsx)("li",{className:"page-item",children:Object(O.jsx)("a",{onClick:function(){return a(e)},href:"#!",className:"page-link",children:e})},e)}))})})},N=function(e){var t=Object(a.useState)([]),n=Object(d.a)(t,2),r=n[0],c=n[1],s=Object(a.useState)(1),i=Object(d.a)(s,2),o=i[0],b=i[1],u=Object(a.useState)(5),m=Object(d.a)(u,1)[0];Object(a.useEffect)((function(){var t=e.match.params.id;window.scrollTo(0,0),function(){var e=Object(j.a)(l.a.mark((function e(){var n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,p.a.get("https://v5.db.transport.rest/stops/".concat(t,"/departures"));case 3:n=e.sent,c(n.data),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log("Something wrong!");case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}()()}),[e.match.params.id]);var x=o*m,v=x-m,f=r.slice(v,x);return Object(O.jsxs)("div",{className:"container mt-5",children:[Object(O.jsxs)(h.a,{children:[Object(O.jsx)("title",{children:"Transport - All Departures"}),Object(O.jsx)("meta",{name:"description",content:"departures page"})]}),Object(O.jsxs)("div",{className:"container",children:[function(){var e=[];return Array.isArray(f)&&f.length?(f.map((function(t){return e.push(Object(O.jsx)(g,{id:t.stop.id,departure_name:t.stop.name,destination:t.direction,departure_time:t.when,delay:t.delay,transport_type:t.line.product,transport_name:t.line.name,transport_mode:t.line.mode,platform:t.platform}))})),e):Object(O.jsx)("span",{children:"No Deprture's Information"})}(),Object(O.jsx)(y,{dataPerPage:m,totalData:r.length,paginate:function(e){b(e)}})]})]})},S=function(){for(var e=[],t=JSON.parse(localStorage.getItem("favorites")||"0"),n=0;n<t.length;n++){var a=t[n];e[n]=JSON.parse(localStorage.getItem([a])||"")}return Object(O.jsxs)("div",{className:"container mt-5",children:[Object(O.jsxs)(h.a,{children:[Object(O.jsx)("title",{children:"Transport - My Favorites"}),Object(O.jsx)("meta",{name:"description",content:"my favorites page"})]}),Object(O.jsx)("h2",{children:"My Favorite List"}),Object(O.jsx)("div",{className:"mt-5",children:function(){var n=[];return Array.isArray(e)&&e.length?(e.map((function(e,a){return n.push(Object(O.jsx)("div",{children:e?Object(O.jsx)("p",{children:Object(O.jsx)(u.b,{to:"/stop/".concat(t[a]),children:e})},a):""}))})),n):Object(O.jsx)("p",{children:"Nothing in the Favorites list"})}()})]})},k=n(3),w=function(){return Object(O.jsx)("div",{className:"container",children:Object(O.jsx)("nav",{className:"navbar navbar-expand-lg navbar-light bg-light",children:Object(O.jsx)("div",{className:"collapse navbar-collapse",id:"navbarNavAltMarkup",children:Object(O.jsxs)("div",{className:"navbar-nav",children:[Object(O.jsx)(u.c,{className:"nav-item nav-link active",exact:!0,to:"/",children:"Home"}),Object(O.jsx)(u.c,{className:"nav-item nav-link active",exact:!0,to:"/favorites",children:"My Favorites"})]})})})})},F=function(e){return Object(O.jsxs)("div",{children:[Object(O.jsx)(w,{}),e.children]})},I=function(){return Object(O.jsx)(u.a,{children:Object(O.jsx)(F,{children:Object(O.jsxs)(k.c,{children:[Object(O.jsx)(k.a,{exact:!0,path:"/favorites",component:S}),Object(O.jsx)(k.a,{exact:!0,path:"/stop/:id",component:N}),Object(O.jsx)(k.a,{exact:!0,path:"/",component:x})]})})})},_=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,71)).then((function(t){var n=t.getCLS,a=t.getFID,r=t.getFCP,c=t.getLCP,s=t.getTTFB;n(e),a(e),r(e),c(e),s(e)}))};s.a.render(Object(O.jsx)(r.a.StrictMode,{children:Object(O.jsx)(I,{})}),document.getElementById("root")),_(),function(){var e="".concat("/transport-germany","/sw.js");navigator.serviceWorker.register(e).then((function(e){console.log("response",e)}))}()}},[[70,1,2]]]);
//# sourceMappingURL=main.f5a827ef.chunk.js.map